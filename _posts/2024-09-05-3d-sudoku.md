---
title: "3D sudokus"
date: "2024-09-05"
---

This all started when I was looking for new kinds of puzzles for Mads FÃ¸k, thr students magazine at Natural Sciences at Aarhus University.
I was talking to some friends waiting for the revue, when we started talking about
puzzles in higher dimensions. Eventually we got to sudokus, and I got to thinking,
that a 3-dimensional sudoku might be possible. So Magnus, Natascha, Viktor and Jonas,
if you read this: thank you very much for the inspiration.

# Highlevel description
I'll assume you know the rules of sudoku. For the sake of simplicity and computational tractability, we will restrict ourselves to 4x4, and eventually 4x4x4, sudokus. Suppose you have 4 sudokus, each 4x4. You can stack these on top of each other to create a 4x4x4 cube of numbers. If you take each horizontal slice out of this cube, it will be a valid 4x4 sudoku. However, there are more ways to take a 4x4 slice out of a 4x4x4 cube. You can take the front face of the cube, or any of the layers behind it. In pseudo-Python, if we have a 4x4x4 array of numbers, the possible dimensions become clearer:

```
sudoku = [
[
  [ 1, 2, 3, 4],
  [ 3, 4, 1, 2],
  [ 2, 1, 4, 3],
  [ 4, 3, 2, 1] ],
[
  [ 4, 3, 2, 1 ],
  [ 2, 1, 4, 3 ],
  [ 3, 4, 1, 2 ],
  [ 1, 2, 3, 4 ] ],
[
  [ 3, 1, 2, 4 ],
  [ 4, 2, 3, 1 ],
  [ 1, 3, 2, 4 ],
  [ 2, 4, 1, 3 ] ],
[
  [ 2, 4, 1, 3],
  [ 1, 3, 4, 2],
  [ 4, 2, 3, 1],
  [ 3, 1, 4, 2]
]]

first_axis = lambda i: sudoku[i][:][:]
second_axis = lambda i: sudoku[:][i][:]
third_axis = lambda i: sudoku[:][:][i]
```

However, this doesn't work, because you can't do `array[:][i]` in python. Using NumPy, we can: `array[:, i]`. If we want to stick to pure python, we can get the same effect using list comprehensions:

```
first_axis = lambda i: [[sudoku[i][j][k] for j in 1:4] for k in 1:4]
second_axis = lambda j: [[sudoku[i][j][k] for i in 1:4] for k in 1:4]
third_axis = lambda k: [[sudoku[i][j][k] for i in 1:4] for j in 1:4]
```

We define a 3-dimensional 4x4x4 sudoku to be a 4x4x4 array of numbers, such that `first_axis(i)`, `second_axis(i)` and `third_axis(i)` are all valid 4x4 sudokus for all `i` in `1:4`. The question if now, does 3-dimensional sudokus even exist?

## Constructing 3-dimensional sudokus
The answer is yes, 3-dimensional sudokus do exist. You can see an example above.
